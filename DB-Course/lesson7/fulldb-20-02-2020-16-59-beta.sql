-- Generation time: Thu, 20 Feb 2020 16:59:36 +0000
-- Host: mysql.hostinger.ro
-- DB name: u574849695_25
/*!40030 SET NAMES UTF8 */;
/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

DROP TABLE IF EXISTS `catalogs`;
CREATE TABLE `catalogs` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Название раздела',
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_name` (`name`(10))
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Разделы интернет-магазина';

INSERT INTO `catalogs` VALUES ('1','Процессоры'),
('2','Материнские платы'),
('3','Видеокарты'),
('4','Жесткие диски'),
('5','Оперативная память'); 


DROP TABLE IF EXISTS `discounts`;
CREATE TABLE `discounts` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `user_id` bigint(20) unsigned DEFAULT NULL,
  `product_id` bigint(20) unsigned DEFAULT NULL,
  `discount` float unsigned DEFAULT NULL COMMENT 'Величина скидки от 0.0 до 1.0',
  `started_at` datetime DEFAULT NULL,
  `finished_at` datetime DEFAULT NULL,
  `created_at` datetime DEFAULT current_timestamp(),
  `updated_at` datetime DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`id`),
  KEY `index_of_user_id` (`user_id`),
  KEY `index_of_product_id` (`product_id`),
  CONSTRAINT `discounts_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `discounts_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Скидки';



DROP TABLE IF EXISTS `orders`;
CREATE TABLE `orders` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `user_id` bigint(20) unsigned DEFAULT NULL,
  `created_at` datetime DEFAULT current_timestamp(),
  `updated_at` datetime DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`id`),
  KEY `index_of_user_id` (`user_id`),
  CONSTRAINT `orders_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=101 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Заказы';

INSERT INTO `orders` VALUES ('1','1','1992-08-28 20:58:56','2016-07-28 22:26:40'),
('2','2','2017-08-01 19:54:42','1974-04-14 16:20:57'),
('3','3','2007-11-20 08:40:01','1985-10-03 03:29:09'),
('4','4','2007-03-11 22:30:13','1992-02-10 21:36:22'),
('5','5','1979-09-30 06:03:48','2010-11-10 19:04:56'),
('6','6','1970-08-05 03:02:53','1999-10-07 06:11:43'),
('7','1','1980-09-12 20:49:17','1978-03-02 10:34:52'),
('8','2','1970-01-20 16:51:54','2000-03-02 18:52:28'),
('9','3','1981-06-12 18:13:11','2000-01-09 10:34:56'),
('10','4','2003-01-31 19:46:54','1971-04-13 06:33:18'),
('11','5','1978-12-28 00:50:08','2018-02-08 02:06:55'),
('12','6','1998-06-10 19:30:01','2016-02-06 02:36:54'),
('13','1','1979-06-25 10:24:40','2001-02-26 07:55:21'),
('14','2','2005-03-17 19:39:25','2014-04-28 14:41:55'),
('15','3','2004-10-08 02:19:42','1994-06-13 08:41:19'),
('16','4','1976-03-07 21:59:04','1985-11-03 04:15:08'),
('17','5','2014-10-22 15:30:45','1996-08-24 14:56:44'),
('18','6','2016-03-15 06:17:33','2011-09-01 00:25:58'),
('19','1','1974-12-23 07:07:15','1977-03-02 14:53:35'),
('20','2','1973-06-02 02:27:25','1992-07-16 22:45:27'),
('21','3','1987-04-22 23:26:07','1983-06-13 06:25:25'),
('22','4','2001-05-19 03:08:46','2003-05-16 01:36:28'),
('23','5','1980-01-19 23:04:57','2004-11-19 11:34:05'),
('24','6','1983-04-22 21:04:24','2006-02-05 08:48:46'),
('25','1','1995-02-01 00:00:53','1997-07-10 15:41:51'),
('26','2','2008-06-11 05:04:43','2020-02-02 17:02:00'),
('27','3','2013-05-31 22:56:43','1990-01-22 01:23:59'),
('28','4','2002-08-15 20:59:22','1976-03-15 08:41:02'),
('29','5','2012-05-30 08:39:24','1971-01-18 10:18:21'),
('30','6','2019-04-02 11:42:43','1997-09-08 11:40:23'),
('31','1','2011-07-29 17:56:38','1996-08-23 15:25:13'),
('32','2','2009-08-22 11:14:06','1976-03-04 05:12:12'),
('33','3','2006-05-09 12:04:31','2014-02-28 19:02:18'),
('34','4','2000-08-27 21:26:04','1975-03-19 15:15:35'),
('35','5','1995-06-09 11:00:27','1998-04-29 08:04:48'),
('36','6','2014-09-30 04:25:29','2006-11-24 10:50:47'),
('37','1','1982-04-08 03:26:13','1991-01-20 23:46:16'),
('38','2','1992-10-08 12:23:17','1996-10-21 03:58:57'),
('39','3','1987-04-15 22:51:37','1984-02-01 23:48:50'),
('40','4','2017-12-25 23:13:03','2009-03-29 13:50:14'),
('41','5','1998-01-11 12:47:02','2004-10-09 18:52:55'),
('42','6','1987-05-10 04:31:32','2013-05-04 17:13:27'),
('43','1','2005-11-14 09:13:51','2002-04-30 11:51:55'),
('44','2','1982-12-01 15:58:09','1983-02-28 04:02:54'),
('45','3','1970-07-08 02:41:28','1988-11-09 23:54:12'),
('46','4','2014-02-09 17:16:43','2015-03-10 23:50:36'),
('47','5','1990-03-21 10:04:15','2006-04-07 13:01:45'),
('48','6','2011-03-02 05:08:16','1984-06-25 00:56:10'),
('49','1','2003-03-06 14:48:55','2006-08-25 01:48:29'),
('50','2','1992-05-19 22:25:13','1979-11-22 16:24:46'),
('51','3','2001-07-07 12:03:10','2015-05-15 03:07:06'),
('52','4','1972-01-16 13:37:18','1973-02-28 11:00:27'),
('53','5','2014-08-13 20:15:22','1986-04-06 12:35:10'),
('54','6','1996-11-09 03:12:14','1978-06-26 18:02:03'),
('55','1','1986-09-04 16:20:31','1972-05-13 21:23:33'),
('56','2','2001-12-13 03:00:40','2017-04-14 13:20:27'),
('57','3','1995-11-05 17:49:11','1990-09-13 10:58:09'),
('58','4','1999-02-28 16:45:30','1991-06-27 09:42:48'),
('59','5','1994-08-18 13:32:22','2012-06-08 13:11:59'),
('60','6','1988-02-19 21:08:34','1980-09-29 22:10:24'),
('61','1','1985-08-12 01:23:25','1977-08-08 13:34:13'),
('62','2','1991-04-21 06:30:09','1991-03-14 07:18:35'),
('63','3','1999-11-18 23:16:15','1983-06-03 18:21:08'),
('64','4','1999-05-27 08:25:50','1990-06-26 07:41:50'),
('65','5','2007-04-07 08:31:29','1979-08-09 09:15:46'),
('66','6','2017-09-30 19:40:23','2002-10-28 13:51:08'),
('67','1','1992-01-08 21:17:46','1982-05-02 16:06:00'),
('68','2','1981-08-13 14:16:50','1971-12-26 01:43:27'),
('69','3','2014-12-04 18:31:04','2013-11-26 09:52:09'),
('70','4','2003-01-28 17:08:57','1995-06-30 13:18:09'),
('71','5','1992-09-29 21:36:25','2011-08-30 10:28:09'),
('72','6','1996-04-06 10:16:36','1979-02-11 13:04:49'),
('73','1','1999-02-10 05:24:26','1972-11-05 14:29:55'),
('74','2','2010-08-12 10:38:44','2017-08-29 19:38:20'),
('75','3','1976-08-23 06:51:12','1997-07-14 16:28:00'),
('76','4','2009-01-26 21:54:38','1979-05-24 10:02:33'),
('77','5','2008-09-10 04:56:19','1973-11-25 11:55:00'),
('78','6','1974-04-09 14:16:20','1992-03-17 14:58:52'),
('79','1','2001-06-12 08:25:41','1977-03-14 12:19:26'),
('80','2','2004-09-07 09:39:02','2008-07-25 06:01:44'),
('81','3','1971-04-06 06:37:22','2002-11-16 09:21:44'),
('82','4','1978-06-05 13:58:54','1978-06-05 16:16:30'),
('83','5','2013-05-10 07:42:15','2000-06-20 16:46:02'),
('84','6','1992-03-23 21:56:43','1973-06-05 03:55:14'),
('85','1','1997-05-12 00:44:48','2002-11-14 17:45:00'),
('86','2','2018-05-05 15:17:46','2013-03-10 22:19:52'),
('87','3','2009-07-21 14:21:18','1971-09-12 09:42:15'),
('88','4','1995-05-12 20:59:59','1998-03-02 01:31:32'),
('89','5','2001-11-18 21:48:37','1991-10-24 06:16:09'),
('90','6','1980-02-22 05:09:18','1972-07-22 06:43:18'),
('91','1','2002-11-08 23:46:55','2020-01-19 18:04:25'),
('92','2','2017-02-07 06:10:16','1992-09-26 05:56:46'),
('93','3','2001-07-26 13:44:50','1998-02-15 15:31:36'),
('94','4','1997-10-08 22:26:55','1983-02-14 10:26:57'),
('95','5','1988-01-19 05:13:21','2003-08-06 19:13:25'),
('96','6','1988-07-21 17:30:54','2011-10-26 06:52:10'),
('97','1','2014-08-16 03:56:25','2005-10-18 06:51:05'),
('98','2','2007-12-02 01:17:13','2013-09-22 19:37:47'),
('99','3','1981-06-07 23:50:27','2004-10-05 12:40:03'),
('100','4','1987-03-10 20:24:06','1982-02-18 01:59:57'); 


DROP TABLE IF EXISTS `orders_products`;
CREATE TABLE `orders_products` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `order_id` bigint(20) unsigned DEFAULT NULL,
  `product_id` bigint(20) unsigned DEFAULT NULL,
  `total` int(10) unsigned DEFAULT 1 COMMENT 'Количество заказанных товарных позиций',
  `created_at` datetime DEFAULT current_timestamp(),
  `updated_at` datetime DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`id`),
  KEY `order_id` (`order_id`),
  KEY `product_id` (`product_id`),
  CONSTRAINT `orders_products_ibfk_1` FOREIGN KEY (`order_id`) REFERENCES `orders` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `orders_products_ibfk_2` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=101 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Состав заказа';

INSERT INTO `orders_products` VALUES ('1','1','1','6','1986-02-02 23:03:21','1978-01-20 17:42:57'),
('2','2','2','5','2011-05-02 18:20:37','2006-11-05 00:21:51'),
('3','3','3','0','2006-12-04 03:47:22','1989-01-22 06:30:28'),
('4','4','4','1','2015-08-26 08:13:21','1971-05-19 20:48:21'),
('5','5','5','6','1979-07-01 20:50:28','2018-04-27 04:36:38'),
('6','6','6','2','2018-01-29 12:43:31','1991-07-28 15:26:35'),
('7','7','7','1','2004-12-05 08:37:10','2015-03-13 17:12:11'),
('8','8','1','6','1983-04-10 23:18:07','1986-09-06 11:39:42'),
('9','9','2','3','2001-04-08 05:20:07','1999-01-20 03:03:36'),
('10','10','3','4','1983-04-12 18:33:31','2019-10-22 07:52:57'),
('11','11','4','1','2004-06-13 22:45:34','1979-06-17 07:59:12'),
('12','12','5','7','2017-02-28 09:14:23','1990-02-25 04:50:10'),
('13','13','6','5','1985-02-19 04:23:26','1970-12-26 03:44:04'),
('14','14','7','1','2000-04-10 18:58:11','2008-10-19 14:51:29'),
('15','15','1','10','1974-12-23 15:16:25','2017-11-12 15:23:10'),
('16','16','2','6','2017-08-16 01:25:09','2018-05-27 18:42:15'),
('17','17','3','0','1973-04-23 22:00:49','1997-07-14 13:22:13'),
('18','18','4','7','1993-11-08 02:24:28','2010-12-10 08:28:37'),
('19','19','5','2','1994-11-05 02:11:39','1971-03-16 19:45:37'),
('20','20','6','7','2017-02-13 12:50:31','1973-10-27 18:01:52'),
('21','21','7','10','2017-09-25 03:51:30','1992-10-21 22:52:33'),
('22','22','1','0','1993-04-04 05:50:05','2003-08-25 14:58:01'),
('23','23','2','7','1982-03-13 11:46:25','1983-11-02 10:25:03'),
('24','24','3','3','1977-09-23 07:33:43','2011-01-13 02:32:39'),
('25','25','4','6','1974-03-07 11:37:13','2016-10-15 04:50:59'),
('26','26','5','0','1983-08-27 20:38:34','1973-01-26 17:00:19'),
('27','27','6','0','2015-07-04 11:54:22','1996-01-05 17:20:42'),
('28','28','7','9','2013-03-12 20:25:30','2001-03-15 05:10:18'),
('29','29','1','3','1992-08-03 01:47:09','2007-02-05 08:27:58'),
('30','30','2','9','2000-09-30 01:12:17','1978-02-14 20:54:32'),
('31','31','3','4','1974-10-22 06:21:28','1991-02-09 23:54:01'),
('32','32','4','3','1985-01-04 02:42:50','1983-11-29 08:16:32'),
('33','33','5','5','1998-08-31 14:04:29','1970-02-07 01:43:51'),
('34','34','6','0','1998-05-31 00:26:06','1979-03-28 11:15:00'),
('35','35','7','5','1996-04-17 22:00:26','2010-02-09 20:14:25'),
('36','36','1','8','1992-03-17 02:42:14','1984-09-22 07:49:35'),
('37','37','2','8','1970-08-17 05:44:06','2003-03-11 08:21:51'),
('38','38','3','10','1973-12-19 23:28:03','1987-09-14 10:02:59'),
('39','39','4','4','1970-08-01 04:29:41','1971-04-09 01:33:03'),
('40','40','5','2','2010-11-14 15:43:04','1982-08-13 10:40:33'),
('41','41','6','10','1972-08-06 07:08:50','1978-03-30 16:34:46'),
('42','42','7','0','2011-08-04 06:08:32','2003-06-07 22:32:43'),
('43','43','1','3','1996-06-10 23:52:16','1978-10-07 16:09:10'),
('44','44','2','5','2001-09-23 07:56:38','2019-08-07 19:33:02'),
('45','45','3','8','1983-05-03 04:54:34','2005-03-12 20:03:01'),
('46','46','4','5','1992-03-25 02:18:42','1986-02-06 12:57:38'),
('47','47','5','6','1971-06-30 23:24:20','1991-01-01 12:10:54'),
('48','48','6','7','2017-02-03 04:31:28','1971-12-20 15:19:07'),
('49','49','7','6','1973-10-22 10:02:21','1983-10-28 03:45:19'),
('50','50','1','6','1985-09-20 05:12:43','2013-06-21 16:48:00'),
('51','51','2','0','1973-10-15 06:57:12','1985-11-03 07:07:18'),
('52','52','3','4','2010-12-06 11:27:50','2007-03-03 00:20:52'),
('53','53','4','2','2002-07-12 02:14:29','2016-04-28 15:50:01'),
('54','54','5','2','2003-03-03 06:56:38','1996-03-12 20:13:37'),
('55','55','6','8','1978-08-21 17:03:03','1994-03-22 02:01:31'),
('56','56','7','7','2014-07-05 04:19:33','1987-11-11 05:53:13'),
('57','57','1','6','2009-03-09 03:39:25','1979-04-22 23:55:07'),
('58','58','2','10','1974-09-17 19:02:03','1980-09-04 00:46:36'),
('59','59','3','6','1985-05-21 02:29:02','1997-12-03 17:48:14'),
('60','60','4','0','1975-04-22 08:15:24','1972-07-01 01:47:11'),
('61','61','5','8','2004-04-17 19:56:49','1999-09-22 12:53:26'),
('62','62','6','8','2007-06-06 06:06:24','2007-10-12 13:49:47'),
('63','63','7','8','2007-09-22 07:13:03','2001-08-06 11:38:32'),
('64','64','1','5','2015-11-29 10:11:06','1990-12-07 00:52:57'),
('65','65','2','1','1990-05-18 11:00:31','1997-09-19 23:13:59'),
('66','66','3','1','1998-12-02 06:35:24','2004-05-02 04:06:51'),
('67','67','4','1','2020-01-10 22:04:47','1987-01-08 20:57:26'),
('68','68','5','7','2007-04-14 01:38:16','1981-01-11 04:02:35'),
('69','69','6','0','1977-10-17 20:19:57','1991-02-17 15:31:30'),
('70','70','7','1','1991-09-10 11:45:57','1986-02-28 11:12:35'),
('71','71','1','4','2005-09-22 03:24:40','1984-02-06 09:45:52'),
('72','72','2','9','1992-11-25 09:26:44','2019-03-16 00:24:18'),
('73','73','3','0','1995-09-04 14:36:17','1994-09-08 04:02:01'),
('74','74','4','3','2004-09-23 15:49:33','1975-02-01 17:35:14'),
('75','75','5','0','2008-12-26 21:52:43','1980-11-05 05:00:55'),
('76','76','6','7','1981-11-15 01:27:08','1994-11-13 19:29:58'),
('77','77','7','7','2017-02-09 08:57:12','1983-12-24 01:55:59'),
('78','78','1','5','2014-09-24 08:16:05','2008-10-26 20:33:28'),
('79','79','2','8','1984-03-15 17:40:01','1975-07-17 01:16:48'),
('80','80','3','7','1996-01-02 09:29:53','2012-08-12 13:01:51'),
('81','81','4','2','2009-09-19 08:49:34','1994-09-02 20:20:05'),
('82','82','5','0','1989-07-23 17:42:36','2000-08-06 12:17:36'),
('83','83','6','9','2017-09-25 01:37:50','2019-08-31 14:29:12'),
('84','84','7','8','1999-06-30 20:29:16','1981-05-21 02:19:24'),
('85','85','1','9','1988-04-09 09:08:37','2014-01-02 08:00:54'),
('86','86','2','3','2009-03-11 18:12:12','2001-06-20 20:51:47'),
('87','87','3','8','1994-01-03 12:02:48','2012-05-29 01:39:56'),
('88','88','4','2','1983-07-20 04:36:11','2002-07-21 17:51:10'),
('89','89','5','3','2011-11-22 02:55:09','1985-11-23 01:33:15'),
('90','90','6','6','2003-11-18 13:07:36','2014-01-17 08:21:05'),
('91','91','7','9','1986-10-08 00:08:07','1978-08-12 01:16:33'),
('92','92','1','0','2019-08-28 11:20:17','1997-07-29 22:55:25'),
('93','93','2','1','1992-06-19 01:46:07','1980-05-15 02:47:01'),
('94','94','3','0','2018-10-02 09:27:44','1990-01-27 05:46:13'),
('95','95','4','0','2012-06-18 07:05:53','1981-06-23 16:25:25'),
('96','96','5','0','2000-12-18 19:54:37','2010-10-21 11:34:57'),
('97','97','6','2','2006-06-08 07:33:01','1981-04-28 16:05:25'),
('98','98','7','2','2003-02-03 08:45:57','2008-05-30 15:11:44'),
('99','99','1','6','1970-09-04 18:33:44','1973-12-03 01:36:25'),
('100','100','2','4','2004-06-22 07:24:32','2003-11-17 05:34:11'); 


DROP TABLE IF EXISTS `products`;
CREATE TABLE `products` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Название',
  `desription` text COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Описание',
  `price` decimal(11,2) DEFAULT NULL COMMENT 'Цена',
  `catalog_id` bigint(20) unsigned DEFAULT NULL,
  `created_at` datetime DEFAULT current_timestamp(),
  `updated_at` datetime DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`id`),
  KEY `index_of_catalog_id` (`catalog_id`),
  CONSTRAINT `products_ibfk_1` FOREIGN KEY (`catalog_id`) REFERENCES `catalogs` (`id`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Товарные позиции';

INSERT INTO `products` VALUES ('1','Intel Core i3-8100','Процессор для настольных персональных компьютеров, основанных на платформе Intel.','7890.00','1','2020-02-20 16:55:14','2020-02-20 16:55:14'),
('2','Intel Core i5-7400','Процессор для настольных персональных компьютеров, основанных на платформе Intel.','12700.00','1','2020-02-20 16:55:14','2020-02-20 16:55:14'),
('3','AMD FX-8320E','Процессор для настольных персональных компьютеров, основанных на платформе AMD.','4780.00','1','2020-02-20 16:55:14','2020-02-20 16:55:14'),
('4','AMD FX-8320','Процессор для настольных персональных компьютеров, основанных на платформе AMD.','7120.00','1','2020-02-20 16:55:14','2020-02-20 16:55:14'),
('5','ASUS ROG MAXIMUS X HERO','Материнская плата ASUS ROG MAXIMUS X HERO, Z370, Socket 1151-V2, DDR4, ATX','19310.00','2','2020-02-20 16:55:14','2020-02-20 16:55:14'),
('6','Gigabyte H310M S2H','Материнская плата Gigabyte H310M S2H, H310, Socket 1151-V2, DDR4, mATX','4790.00','2','2020-02-20 16:55:14','2020-02-20 16:55:14'),
('7','MSI B250M GAMING PRO','Материнская плата MSI B250M GAMING PRO, B250, Socket 1151, DDR4, mATX','5060.00','2','2020-02-20 16:55:14','2020-02-20 16:55:14'); 


DROP TABLE IF EXISTS `rubrics`;
CREATE TABLE `rubrics` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Название раздела',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Разделы интернет-магазина';

INSERT INTO `rubrics` VALUES ('1','Видеокарты'),
('2','Память'); 


DROP TABLE IF EXISTS `storehouses`;
CREATE TABLE `storehouses` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Название',
  `created_at` datetime DEFAULT current_timestamp(),
  `updated_at` datetime DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Склады';



DROP TABLE IF EXISTS `storehouses_products`;
CREATE TABLE `storehouses_products` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `storehouse_id` bigint(20) unsigned DEFAULT NULL,
  `product_id` bigint(20) unsigned DEFAULT NULL,
  `value` int(10) unsigned DEFAULT NULL COMMENT 'Запас товарной позиции на складе',
  `created_at` datetime DEFAULT current_timestamp(),
  `updated_at` datetime DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`id`),
  KEY `product_id` (`product_id`),
  KEY `storehouse_id` (`storehouse_id`),
  CONSTRAINT `storehouses_products_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`) ON DELETE SET NULL ON UPDATE CASCADE,
  CONSTRAINT `storehouses_products_ibfk_2` FOREIGN KEY (`storehouse_id`) REFERENCES `storehouses` (`id`) ON DELETE SET NULL ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Запасы на складе';



DROP TABLE IF EXISTS `users`;
CREATE TABLE `users` (
  `id` bigint(20) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'Имя покупателя',
  `birthday_at` date DEFAULT NULL COMMENT 'Дата рождения',
  `created_at` datetime DEFAULT current_timestamp(),
  `updated_at` datetime DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci COMMENT='Покупатели';

INSERT INTO `users` VALUES ('1','Геннадий','1990-10-05','2020-02-20 16:55:14','2020-02-20 16:55:14'),
('2','Наталья','1984-11-12','2020-02-20 16:55:14','2020-02-20 16:55:14'),
('3','Александр','1985-05-20','2020-02-20 16:55:14','2020-02-20 16:55:14'),
('4','Сергей','1988-02-14','2020-02-20 16:55:14','2020-02-20 16:55:14'),
('5','Иван','1998-01-12','2020-02-20 16:55:14','2020-02-20 16:55:14'),
('6','Мария','1992-08-29','2020-02-20 16:55:14','2020-02-20 16:55:14'); 




/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

